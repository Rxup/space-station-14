- type: entity
  id: SupplyDropPodEmpty
  parent: SupplyPodBase
  categories: [ HideSpawnMenu ]

#syndi
- type: entity
  id: DropPodMarkerSyndicate
  suffix: Empty, syndicate
  components:
  - type: AirDrop
    inAir:
    - type: Sprite
      sprite: Backmen/Effects/droppod_falling.rsi
      layers:
      - state: syndiepod_falling_animation
        offset: "0,3.3"
    supplyDrop:
    - type: Sprite
      sprite: Backmen/Structures/Storage/supplypod.rsi
      layers:
      - state: syndiepod
        map: [ "enum.StorageVisualLayers.Base" ]
      - state: syndiepod_door
        map: [ "enum.StorageVisualLayers.Door" ]
    - type: EntityStorageVisuals
      stateBaseClosed: syndiepod
      stateDoorOpen: syndiepod_open
      stateDoorClosed: syndiepod_door

- type: entity
  id: DropPodMarkerSyndicateJuggernaut
  parent: DropPodMarkerSyndicate
  suffix: Juggernaut, syndicate
  components:
  - type: AirDrop
    supplyDropTable: SyndicateDropPodJuggernaut

- type: entityTable
  id: SyndicateDropPodJuggernaut
  table: !type:AllSelector
    children:
    - id: ClothingOuterHardsuitJuggernaut
    - id: ClothingMaskGasSyndicate
    - id: ClothingHandsGlovesCombat
    - id: DoubleEmergencyOxygenTankFilled
    - id: DoubleEmergencyNitrogenTankFilled

- type: entity
  id: DropPodMarkerSyndicateSurplusBundle
  parent: DropPodMarkerSyndicate
  suffix: Surplus Bundle, syndicate
  components:
  - type: AirDrop
    supplyDrop:
    - type: SurplusBundle
      totalPrice: 50

- type: entity
  id: DropPodMarkerSyndicateSuperSurplusBundle
  parent: DropPodMarkerSyndicate
  suffix: super surplus bundle, syndicate
  components:
  - type: AirDrop
    supplyDrop:
    - type: SurplusBundle
      totalPrice: 125

#syndi reinforcement

- type: entity
  id: DropPodMarkerReinforcementSyndicate
  parent: DropPodMarkerSyndicate
  suffix: Reinforcement, syndicate
  components:
  - type: AirDrop
    supplyDropProto: ReinforcementDroppodSyndicate

- type: entity
  parent: ReinforcementRadioSyndicate
  id: ReinforcementDroppodSyndicate
  categories: [ HideSpawnMenu ]
  components:
  - type: Physics
    bodyType: Static
    canCollide: False
  - type: Sprite
    sprite: Backmen/Structures/Storage/supplypod.rsi
    layers:
    - state: syndiepod_door
      drawdepth: BlastDoors

- type: entity
  id: DropPodMarkerReinforcementSyndicateNukeops
  parent: DropPodMarkerSyndicate
  suffix: Reinforcement Nukeops, syndicate
  components:
  - type: AirDrop
    supplyDropProto: ReinforcementDroppodSyndicateNukeops

- type: entity
  parent: ReinforcementRadioSyndicateNukeops
  id: ReinforcementDroppodSyndicateNukeops
  categories: [ HideSpawnMenu ]
  components:
  - type: Physics
    bodyType: Static
    canCollide: False
  - type: Sprite
    sprite: Backmen/Structures/Storage/supplypod.rsi
    layers:
    - state: syndiepod_door
      drawdepth: BlastDoors

- type: entity
  id: DropPodMarkerReinforcementSyndicateAncestor
  parent: DropPodMarker
  suffix: Reinforcement Ancestor, syndicate
  components:
  - type: AirDrop
    supplyDropProto: ReinforcementDroppodSyndicateAncestor

- type: entity
  parent: ReinforcementRadioSyndicateAncestor
  id: ReinforcementDroppodSyndicateAncestor
  categories: [ HideSpawnMenu ]
  components:
  - type: Physics
    bodyType: Static
    canCollide: False
  - type: Sprite
    sprite: Backmen/Structures/Storage/supplypod.rsi
    layers:
    - state: syndiepod_door
      drawdepth: BlastDoors

- type: entity
  id: DropPodMarkerReinforcementSyndicateAncestorNukeops
  parent: DropPodMarker
  suffix: Reinforcement Ancestor Nukeops, syndicate
  components:
  - type: AirDrop
    supplyDropProto: ReinforcementDroppodSyndicateAncestorNukeops

- type: entity
  parent: ReinforcementRadioSyndicateAncestorNukeops
  id: ReinforcementDroppodSyndicateAncestorNukeops
  categories: [ HideSpawnMenu ]
  components:
  - type: Physics
    bodyType: Static
    canCollide: False
  - type: Sprite
    sprite: Backmen/Structures/Storage/supplypod.rsi
    layers:
    - state: syndiepod_door
      drawdepth: BlastDoors

- type: entity
  id: DropPodMarkerReinforcementSyndicateCyborgAssault
  parent: DropPodMarker
  suffix: Reinforcement Cyborg Assault, syndicate
  components:
  - type: AirDrop
    supplyDropProto: ReinforcementDroppodSyndicateCyborgAssault

- type: entity
  parent: ReinforcementRadioSyndicateCyborgAssault
  id: ReinforcementDroppodSyndicateCyborgAssault
  categories: [ HideSpawnMenu ]
  components:
  - type: Physics
    bodyType: Static
    canCollide: False
  - type: Sprite
    sprite: Backmen/Structures/Storage/supplypod.rsi
    layers:
    - state: syndiepod_door
      drawdepth: BlastDoors

#missiles

- type: entity
  id: MissileDrop
  parent: MissileBase
  categories: [ HideSpawnMenu ]
  components:
  - type: AirDrop
    inAir:
    - type: Sprite
      sprite: Backmen/Effects/droppod_falling.rsi
      layers:
      - state: missile_falling_animation
        offset: "0,3.3"
    supplyDrop:
    - type: Sprite
      sprite: Backmen/Structures/Storage/supplypod.rsi
      layers:
      - state: missilepod
      - state: missilepod_door
    - type: Timer
    - type: SpawnOnDespawn
      prototype: ExplosionInstant
    - type: TimedDespawn
      lifetime: 1

- type: entity
  id: MissileDropUnexploded
  parent: MissileBase
  categories: [ HideSpawnMenu ]
  name: неразорвавшийся снаряд
  description: Очень опасная штука, может взорваться в любой момент, я бы не стал к ней подходить...
  components:
  - type: AirDrop
    inAir:
    - type: Sprite
      sprite: Backmen/Effects/droppod_falling.rsi
      layers:
      - state: missile_falling_animation
        offset: "0,3.3"
    supplyDrop:
    - type: Sprite
      sprite: Backmen/Structures/Storage/supplypod.rsi
      layers:
      - state: missilepod
      - state: missilepod_door
    - type: Destructible
      thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 150
        behaviors:
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
        - !type:PlaySoundBehavior
          sound:
            collection: MetalBreak
            params:
              volume: -6
        - !type:SpawnEntitiesBehavior
          spawn:
            ExplosionInstant:
              min: 1
              max: 1


- type: entity
  id: MissileDropRandomSpawner
  parent: DropPodLaunchAnimation
  categories: [ HideSpawnMenu ]
  components:
  - type: RandomSpawner
    prototypes:
    - MissileDrop
    chance: 1
    rarePrototypes:
    - MissileDropUnexploded
    rareChance: 0.2

- type: entity
  name: арт-обстрел
  id: MissileDropSpawnerAreaSpawner
  parent: DropPodMarkerBase
  components:
  - type: TimedSpawner
    prototypes:
    - MissileDropRandomSpawnerArea
    intervalSeconds: 1
  - type: Timer
  - type: TimedDespawn
    lifetime: 10

- type: entity
  id: MissileDropRandomSpawnerArea
  parent: DropPodMarkerBase
  categories: [ HideSpawnMenu ]
  components:
  - type: RandomSpawner
    offset: 10
    prototypes:
    - MissileDropRandomSpawner
    chance: 1
  - type: TimedDespawn
    lifetime: 1
